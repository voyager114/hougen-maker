<!doctype html><html lang="ja"><head>
<meta charset="utf-8"><title>方言メーカー</title>
<style>
body{font-family:sans-serif;margin:2rem}
input,select,button{padding:.5rem;font-size:1rem}
#out{margin-top:1rem;font-size:1.2rem;font-weight:bold}
</style></head><body>
<h1>方言メーカー</h1>
<input id="txt" size="40" placeholder="例：今日は宿題やった？"><br>
<select id="dial">
  <option>大阪弁</option><option>博多弁</option>
  <option>仙台弁</option><option>津軽弁</option>
</select>
  <label style="display:block;margin:1rem 0">
    ノリの強さ: <span id="tval">0.3</span>
    <input id="temp" type="range" min="0" max="1" step="0.05" value="0.3"
           oninput="tval.textContent=this.value"
           title="左＝カッチリ直訳 / 右＝めちゃ自由に方言化">
    <small style="display:block;color:#666">← カッチリ | 自由 →</small>
  </label>



<button onclick="convert()">変換する</button>
<div id="out"></div>
<script>
  async function convert(){
    const text = txt.value.trim();
    if(!text){ alert("文章を入力してね"); return; }

    out.textContent = "…変換中";

    const res = await fetch("/convert", {
      method:"POST",
      headers:{"Content-Type":"application/json"},
      body:JSON.stringify({
        text,
        dialect: dial.value,
        temperature: parseFloat(temp.value)   // ★ 追加
      })
    });

    const j = await res.json();
    out.textContent = j.result;
  }

</script></body></html>
